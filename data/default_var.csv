id,key,value,module,section,type,level,summary,detail
101,version,v2.2.0,CSI,META,string,G,crystaldb version string,
102,admin_ip,10.10.10.10,CSI,META,ip,G,admin node ip address,
103,region,default,CSI,META,enum,G,"upstream mirror region: default,china,europe",
104,proxy_env,"{'no_proxy': 'localhost,127.0.0.1,10.0.0.0/8,192.168.0.0/16,*.crystaldb,*.aliyun.com,mirrors.*,*.myqcloud.com,*.tsinghua.edu.cn'}",CSI,META,dict,G,global proxy env when downloading packages,
105,ca_method,create,CSI,CA,enum,G,"create,recreate,copy, create by default",
106,ca_cn,crystaldb-ca,CSI,CA,string,G,"ca common name, fixed as crystaldb-ca",
107,cert_validity,7300d,CSI,CA,interval,G,"cert validity, 20 years by default",
108,csi_seq,,CSI,CSI_ID,int,I,"csi node identity, REQUIRED",
109,csi_portal,"{'home': {'domain': 'h.crystaldb'}, 'loki': {'endpoint': '${admin_ip}:3100'}, 'grafana': {'domain': 'g.crystaldb', 'endpoint': '${admin_ip}:3000', 'websocket': True}, 'blackbox': {'endpoint': '${admin_ip}:9115'}, 'prometheus': {'domain': 'p.crystaldb', 'endpoint': '${admin_ip}:9090'}, 'alertmanager': {'domain': 'a.crystaldb', 'endpoint': '${admin_ip}:9093'}}",CSI,CSI_ID,dict,G,csi services exposed via portal,
110,repo_enabled,True,CSI,REPO,bool,G/I,create a yum repo on this csi node?,
111,repo_home,/www,CSI,REPO,path,G,"repo home dir, `/www` by default",
112,repo_name,crystaldb,CSI,REPO,string,G,"repo name, crystaldb by default",
113,repo_endpoint,http://${admin_ip}:80,CSI,REPO,url,G,access point to this repo by domain or ip:port,
114,repo_remove,False,CSI,REPO,bool,G/A,remove existing upstream repo,
115,repo_modules,"node,pgsql,csi",CSI,REPO,string,G/A,which repo modules are installed in repo_upstream,
116,repo_upstream,"[{'name': 'base', 'module': 'node', 'baseurl': {'china': 'https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/os/$basearch/', 'europe': 'https://mirrors.xtom.de/centos/$releasever/os/$basearch/', 'default': 'http://mirror.centos.org/centos/$releasever/os/$basearch/'}, 'releases': [7], 'description': 'EL 7 Base'}, {'name': 'updates', 'module': 'node', 'baseurl': {'china': 'https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/updates/$basearch/', 'europe': 'https://mirrors.xtom.de/centos/$releasever/updates/$basearch/', 'default': 'http://mirror.centos.org/centos/$releasever/updates/$basearch/'}, 'releases': [7], 'description': 'EL 7 Updates'}, {'name': 'extras', 'module': 'node', 'baseurl': {'china': 'https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/extras/$basearch/', 'europe': 'https://mirrors.xtom.de/centos/$releasever/extras/$basearch/', 'default': 'http://mirror.centos.org/centos/$releasever/extras/$basearch/'}, 'releases': [7], 'description': 'EL 7 Extras'}, {'name': 'epel', 'module': 'node', 'baseurl': {'china': 'https://mirrors.tuna.tsinghua.edu.cn/epel/$releasever/$basearch/', 'europe': 'https://mirrors.xtom.de/epel/$releasever/$basearch/', 'default': 'http://download.fedoraproject.org/pub/epel/$releasever/$basearch/'}, 'releases': [7], 'description': 'EL 7 EPEL'}, {'name': 'centos-sclo', 'module': 'node', 'baseurl': {'china': 'https://mirrors.aliyun.com/centos/$releasever/sclo/$basearch/sclo/', 'europe': 'https://mirrors.xtom.de/centos/$releasever/sclo/$basearch/sclo/', 'default': 'http://mirror.centos.org/centos/$releasever/sclo/$basearch/sclo/'}, 'releases': [7], 'description': 'EL 7 SCLo'}, {'name': 'centos-sclo-rh', 'module': 'node', 'baseurl': {'china': 'https://mirrors.aliyun.com/centos/$releasever/sclo/$basearch/rh/', 'europe': 'https://mirrors.xtom.de/centos/$releasever/sclo/$basearch/rh/', 'default': 'http://mirror.centos.org/centos/$releasever/sclo/$basearch/rh/'}, 'releases': [7], 'description': 'EL 7 SCLo rh'}, {'name': 'baseos', 'module': 'node', 'baseurl': {'china': 'https://mirrors.aliyun.com/rockylinux/$releasever/BaseOS/$basearch/os/', 'europe': 'https://mirrors.xtom.de/rocky/$releasever/BaseOS/$basearch/os/', 'default': 'https://dl.rockylinux.org/pub/rocky/$releasever/BaseOS/$basearch/os/'}, 'releases': [8, 9], 'description': 'EL 8+ BaseOS'}, {'name': 'appstream', 'module': 'node', 'baseurl': {'china': 'https://mirrors.aliyun.com/rockylinux/$releasever/AppStream/$basearch/os/', 'europe': 'https://mirrors.xtom.de/rocky/$releasever/AppStream/$basearch/os/', 'default': 'https://dl.rockylinux.org/pub/rocky/$releasever/AppStream/$basearch/os/'}, 'releases': [8, 9], 'description': 'EL 8+ AppStream'}, {'name': 'extras', 'module': 'node', 'baseurl': {'china': 'https://mirrors.aliyun.com/rockylinux/$releasever/extras/$basearch/os/', 'europe': 'https://mirrors.xtom.de/rocky/$releasever/extras/$basearch/os/', 'default': 'https://dl.rockylinux.org/pub/rocky/$releasever/extras/$basearch/os/'}, 'releases': [8, 9], 'description': 'EL 8+ Extras'}, {'name': 'epel', 'module': 'node', 'baseurl': {'china': 'https://mirrors.tuna.tsinghua.edu.cn/epel/$releasever/Everything/$basearch/', 'europe': 'https://mirrors.xtom.de/epel/$releasever/Everything/$basearch/', 'default': 'http://download.fedoraproject.org/pub/epel/$releasever/Everything/$basearch/'}, 'releases': [8, 9], 'description': 'EL 8+ EPEL'}, {'name': 'powertools', 'module': 'node', 'baseurl': {'china': 'https://mirrors.aliyun.com/rockylinux/$releasever/PowerTools/$basearch/os/', 'europe': 'https://mirrors.xtom.de/rocky/$releasever/PowerTools/$basearch/os/', 'default': 'https://dl.rockylinux.org/pub/rocky/$releasever/PowerTools/$basearch/os/'}, 'releases': [8], 'description': 'EL 8 PowerTools'}, {'name': 'crb', 'module': 'node', 'baseurl': {'china': 'https://mirrors.aliyun.com/rockylinux/$releasever/CRB/$basearch/os/', 'europe': 'https://mirrors.xtom.de/rocky/$releasever/CRB/$basearch/os/', 'default': 'https://dl.rockylinux.org/pub/rocky/$releasever/CRB/$basearch/os/'}, 'releases': [9], 'description': 'EL 9 CRB'}, {'name': 'crystaldb15', 'module': 'pgsql', 'baseurl': {'default': 'https://dl.crystaldb.com/yum/15/redhat/rhel-$releasever-$basearch'}, 'releases': [8, 9], 'description': 'CrystalDB 15'}, {'name': 'pgdg-common', 'module': 'pgsql', 'baseurl': {'china': 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/common/redhat/rhel-$releasever-$basearch', 'europe': 'https://mirrors.xtom.de/postgresql/repos/yum/common/redhat/rhel-$releasever-$basearch', 'default': 'https://download.postgresql.org/pub/repos/yum/common/redhat/rhel-$releasever-$basearch'}, 'releases': [7, 8, 9], 'description': 'PostgreSQL Common'}, {'name': 'pgdg-extras', 'module': 'pgsql', 'baseurl': {'china': 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/common/pgdg-rhel$releasever-extras/redhat/rhel-$releasever-$basearch', 'europe': 'https://mirrors.xtom.de/postgresql/repos/yum/common/pgdg-rhel$releasever-extras/redhat/rhel-$releasever-$basearch', 'default': 'https://download.postgresql.org/pub/repos/yum/common/pgdg-rhel$releasever-extras/redhat/rhel-$releasever-$basearch'}, 'releases': [7, 8, 9], 'description': 'PostgreSQL Extra'}, {'name': 'pgdg-el8fix', 'module': 'pgsql', 'baseurl': {'china': 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/common/pgdg-centos8-sysupdates/redhat/rhel-8-x86_64/', 'europe': 'https://mirrors.xtom.de/postgresql/repos/yum/common/pgdg-centos8-sysupdates/redhat/rhel-8-x86_64/', 'default': 'https://download.postgresql.org/pub/repos/yum/common/pgdg-centos8-sysupdates/redhat/rhel-8-x86_64/'}, 'releases': [8], 'description': 'PostgreSQL EL8FIX'}, {'name': 'pgdg-el9fix', 'module': 'pgsql', 'baseurl': {'china': 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/common/pgdg-rocky9-sysupdates/redhat/rhel-9-x86_64/', 'europe': 'https://mirrors.xtom.de/postgresql/repos/yum/common/pgdg-rocky9-sysupdates/redhat/rhel-9-x86_64/', 'default': 'https://download.postgresql.org/pub/repos/yum/common/pgdg-rocky9-sysupdates/redhat/rhel-9-x86_64/'}, 'releases': [9], 'description': 'PostgreSQL EL9FIX'}, {'name': 'pgdg12', 'module': 'pgsql', 'baseurl': {'china': 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/12/redhat/rhel-$releasever-$basearch', 'europe': 'https://mirrors.xtom.de/postgresql/repos/yum/12/redhat/rhel-$releasever-$basearch', 'default': 'https://download.postgresql.org/pub/repos/yum/12/redhat/rhel-$releasever-$basearch'}, 'releases': [7, 8, 9], 'description': 'PostgreSQL 12'}, {'name': 'pgdg13', 'module': 'pgsql', 'baseurl': {'china': 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/13/redhat/rhel-$releasever-$basearch', 'europe': 'https://mirrors.xtom.de/postgresql/repos/yum/13/redhat/rhel-$releasever-$basearch', 'default': 'https://download.postgresql.org/pub/repos/yum/13/redhat/rhel-$releasever-$basearch'}, 'releases': [7, 8, 9], 'description': 'PostgreSQL 13'}, {'name': 'pgdg14', 'module': 'pgsql', 'baseurl': {'china': 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/14/redhat/rhel-$releasever-$basearch', 'europe': 'https://mirrors.xtom.de/postgresql/repos/yum/14/redhat/rhel-$releasever-$basearch', 'default': 'https://download.postgresql.org/pub/repos/yum/14/redhat/rhel-$releasever-$basearch'}, 'releases': [7, 8, 9], 'description': 'PostgreSQL 14'}, {'name': 'pgdg15', 'module': 'pgsql', 'baseurl': {'china': 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/15/redhat/rhel-$releasever-$basearch', 'europe': 'https://mirrors.xtom.de/postgresql/repos/yum/15/redhat/rhel-$releasever-$basearch', 'default': 'https://download.postgresql.org/pub/repos/yum/15/redhat/rhel-$releasever-$basearch'}, 'releases': [7, 8, 9], 'description': 'PostgreSQL 15'}, {'name': 'pgdg16beta', 'module': 'pgsql', 'baseurl': {'china': 'https://mirrors.tuna.tsinghua.edu.cn/postgresql/repos/yum/testing/16/redhat/rhel-$releasever-$basearch', 'europe': 'https://mirrors.xtom.de/postgresql/repos/yum/testing/16/redhat/rhel-$releasever-$basearch', 'default': 'https://download.postgresql.org/pub/repos/yum/testing/16/redhat/rhel-$releasever-$basearch'}, 'releases': [7, 8, 9], 'description': 'PostgreSQL 16 Beta'}, {'name': 'timescaledb', 'module': 'pgsql', 'baseurl': {'default': 'https://packagecloud.io/timescale/timescaledb/el/$releasever/$basearch'}, 'releases': [7, 8, 9], 'description': 'TimescaleDB'}, {'name': 'nginx', 'module': 'csi', 'baseurl': {'default': 'https://nginx.org/packages/centos/$releasever/$basearch/'}, 'releases': [7, 8, 9], 'description': 'Nginx Repo'}, {'name': 'docker-ce', 'module': 'csi', 'baseurl': {'china': 'https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/centos/$releasever/$basearch/stable', 'europe': 'https://mirrors.xtom.de/docker-ce/linux/centos/$releasever/$basearch/stable', 'default': 'https://download.docker.com/linux/centos/$releasever/$basearch/stable'}, 'releases': [7, 8, 9], 'description': 'Docker CE'}, {'name': 'grafana', 'module': 'csi', 'baseurl': {'china': 'https://get.pigsty.cc/yum/grafana/$basearch', 'default': 'https://rpm.grafana.com'}, 'releases': [7, 8, 9], 'description': 'Grafana'}]",CSI,REPO,upstream[],G,where to download upstream packages,
117,repo_packages,"['ansible python3 python3-pip python3-requests python3.11-jmespath dnf-utils modulemd-tools', 'grafana loki logcli promtail prometheus2 alertmanager karma pushgateway node_exporter blackbox_exporter nginx_exporter redis_exporter', 'redis etcd minio mcli haproxy vip-manager pg_exporter nginx createrepo_c sshpass chrony dnsmasq docker-ce docker-compose-plugin flamegraph', 'lz4 unzip bzip2 zlib yum pv jq git ncdu make patch bash lsof wget uuid tuned perf nvme-cli numactl grubby sysstat iotop htop rsync tcpdump', 'netcat socat ftp lrzsz net-tools ipvsadm bind-utils telnet audit ca-certificates openssl openssh-clients readline vim-minimal', 'postgresql13* wal2json_13* pg_repack_13* passwordcheck_cracklib_13* postgresql12* wal2json_12* pg_repack_12* passwordcheck_cracklib_12* postgresql16* timescaledb-tools', 'postgresql15 postgresql15* citus_15* pglogical_15* wal2json_15* pg_repack_15* pgvector_15* timescaledb-2-postgresql-15* postgis33_15* passwordcheck_cracklib_15* pg_cron_15*', 'postgresql14 postgresql14* citus_14* pglogical_14* wal2json_14* pg_repack_14* pgvector_14* timescaledb-2-postgresql-14* postgis33_14* passwordcheck_cracklib_14* pg_cron_14*', 'patroni patroni-etcd pgbouncer pgbadger pgbackrest pgloader pg_activity pg_partman_15 pg_permissions_15 pgaudit17_15 pgexportdoc_15 pgimportdoc_15 pg_statement_rollback_15*', 'orafce_15* mysqlcompat_15 mongo_fdw_15* tds_fdw_15* mysql_fdw_15 hdfs_fdw_15 sqlite_fdw_15 pgbouncer_fdw_15 multicorn2_15* powa_15* pg_stat_kcache_15* pg_stat_monitor_15* pg_qualstats_15 pg_track_settings_15 pg_wait_sampling_15 system_stats_15', 'plprofiler_15* plproxy_15 plsh_15* pldebugger_15 plpgsql_check_15*  pgtt_15 pgq_15* pgsql_tweaks_15 count_distinct_15 hypopg_15 timestamp9_15* semver_15* prefix_15* rum_15 geoip_15 periods_15 ip4r_15 tdigest_15 hll_15 pgmp_15 extra_window_functions_15 topn_15', 'pg_background_15 e-maj_15 pg_catcheck_15 pg_prioritize_15 pgcopydb_15 pg_filedump_15 pgcryptokey_15 logerrors_15 pg_top_15 pg_comparator_15 pg_ivm_15* pgsodium_15* pgfincore_15* ddlx_15 credcheck_15 safeupdate_15 pg_squeeze_15* pg_fkpart_15 pg_jobmon_15']",CSI,REPO,string[],G,which packages to be included,
118,repo_url_packages,"['https://dl.crystaldb.com/resources/pev.html', 'https://dl.crystaldb.com/resources/chart.tgz']",CSI,REPO,string[],G,extra packages from url,
120,csi_packages,"['grafana,loki,logcli,promtail,prometheus2,alertmanager,karma,pushgateway', 'node_exporter,blackbox_exporter,nginx_exporter,redis_exporter,pg_exporter', 'nginx,dnsmasq,ansible,postgresql15,redis,mcli,python3-requests']",CSI,CSI_PACKAGE,string[],G,packages to be installed on csi nodes,
121,csi_packages_pip,,CSI,CSI_PACKAGE,string,G,pip installed packages for csi nodes,
130,nginx_enabled,True,CSI,NGINX,bool,G/I,enable nginx on this csi node?,
131,nginx_exporter_enabled,True,CSI,NGINX,bool,G/I,enable nginx_exporter on this csi node?,
132,nginx_sslmode,enable,CSI,NGINX,enum,G,"nginx ssl mode? disable,enable,enforce",
133,nginx_home,/www,CSI,NGINX,path,G,"nginx content dir, `/www` by default",
134,nginx_port,80,CSI,NGINX,port,G,"nginx listen port, 80 by default",
135,nginx_ssl_port,443,CSI,NGINX,port,G,"nginx ssl listen port, 443 by default",
136,nginx_navbar,"[{'url': '/ca.crt', 'desc': 'crystaldb self-signed ca.crt', 'name': 'CA Cert'}, {'url': '/crystaldb', 'desc': 'local yum repo packages', 'name': 'Package'}, {'url': '/crystaldb/pev.html', 'desc': 'postgres explain visualizer', 'name': 'Explain'}, {'url': '/logs', 'desc': 'postgres raw csv logs', 'name': 'PG Logs'}, {'url': '/report', 'desc': 'pgbadger summary report', 'name': 'Reports'}]",CSI,NGINX,index[],G,nginx index page navigation links,
140,dns_enabled,True,CSI,DNS,bool,G/I,setup dnsmasq on this csi node?,
141,dns_port,53,CSI,DNS,port,G,"dns server listen port, 53 by default",
142,dns_records,"['${admin_ip} h.crystaldb a.crystaldb p.crystaldb g.crystaldb', '${admin_ip} api.crystaldb adm.crystaldb cli.crystaldb ddl.crystaldb lab.crystaldb git.crystaldb sss.crystaldb wiki.crystaldb']",CSI,DNS,string[],G,dynamic dns records resolved by dnsmasq,
150,prometheus_enabled,True,CSI,PROMETHEUS,bool,G/I,enable prometheus on this csi node?,
151,prometheus_clean,True,CSI,PROMETHEUS,bool,G/A,clean prometheus data during init?,
152,prometheus_data,/data/prometheus,CSI,PROMETHEUS,path,G,"prometheus data dir, `/data/prometheus` by default",
153,prometheus_sd_interval,5s,CSI,PROMETHEUS,interval,G,"prometheus target refresh interval, 5s by default",
154,prometheus_scrape_interval,10s,CSI,PROMETHEUS,interval,G,"prometheus scrape & eval interval, 10s by default",
155,prometheus_scrape_timeout,8s,CSI,PROMETHEUS,interval,G,"prometheus global scrape timeout, 8s by default",
156,prometheus_options,--storage.tsdb.retention.time=15d,CSI,PROMETHEUS,arg,G,prometheus extra server options,
157,pushgateway_enabled,True,CSI,PROMETHEUS,bool,G/I,setup pushgateway on this csi node?,
158,pushgateway_options,--persistence.interval=1m,CSI,PROMETHEUS,arg,G,pushgateway extra server options,
159,blackbox_enabled,True,CSI,PROMETHEUS,bool,G/I,setup blackbox_exporter on this csi node?,
160,blackbox_options,,CSI,PROMETHEUS,arg,G,blackbox_exporter extra server options,
161,alertmanager_enabled,True,CSI,PROMETHEUS,bool,G/I,setup alertmanager on this csi node?,
162,alertmanager_options,,CSI,PROMETHEUS,arg,G,alertmanager extra server options,
163,exporter_metrics_path,/metrics,CSI,PROMETHEUS,path,G,"exporter metric path, `/metrics` by default",
164,exporter_install,none,CSI,PROMETHEUS,enum,G,"how to install exporter? none,yum,binary",
165,exporter_repo_url,,CSI,PROMETHEUS,url,G,exporter repo file url if install exporter via yum,
170,grafana_enabled,True,CSI,GRAFANA,bool,G/I,enable grafana on this csi node?,
171,grafana_clean,True,CSI,GRAFANA,bool,G/A,clean grafana data during init?,
172,grafana_admin_username,admin,CSI,GRAFANA,username,G,"grafana admin username, `admin` by default",
173,grafana_admin_password,crystaldb,CSI,GRAFANA,password,G,"grafana admin password, `crystaldb` by default",
174,grafana_plugin_cache,/www/crystaldb/plugins.tgz,CSI,GRAFANA,path,G,path to grafana plugins cache tarball,
175,grafana_plugin_list,"['volkovlabs-echarts-panel', 'volkovlabs-image-panel', 'volkovlabs-form-panel', 'volkovlabs-grapi-datasource', 'marcusolsson-dynamictext-panel', 'marcusolsson-treemap-panel', 'marcusolsson-calendar-panel', 'marcusolsson-static-datasource']",CSI,GRAFANA,string[],G,grafana plugins to be downloaded with grafana-cli,
176,loki_enabled,True,CSI,LOKI,bool,G/I,enable loki on this csi node?,
177,loki_clean,False,CSI,LOKI,bool,G/A,whether remove existing loki data?,
178,loki_data,/data/loki,CSI,LOKI,path,G,"loki data dir, `/data/loki` by default",
179,loki_retention,15d,CSI,LOKI,interval,G,"loki log retention period, 15d by default",
201,nodename,,NODE,NODE_ID,string,I,"node instance identity, use hostname if missing, optional",
202,node_cluster,nodes,NODE,NODE_ID,string,C,"node cluster identity, use 'nodes' if missing, optional",
203,nodename_overwrite,True,NODE,NODE_ID,bool,C,overwrite node's hostname with nodename?,
204,nodename_exchange,False,NODE,NODE_ID,bool,C,exchange nodename among play hosts?,
205,node_id_from_pg,True,NODE,NODE_ID,bool,C,use postgres identity as node identity if applicable?,
210,node_default_etc_hosts,['${admin_ip} h.crystaldb a.crystaldb p.crystaldb g.crystaldb'],NODE,NODE_DNS,string[],G,static dns records in `/etc/hosts`,
211,node_etc_hosts,[],NODE,NODE_DNS,string[],C,extra static dns records in `/etc/hosts`,
212,node_dns_method,add,NODE,NODE_DNS,enum,C,"how to handle dns servers: add,none,overwrite",
213,node_dns_servers,['${admin_ip}'],NODE,NODE_DNS,string[],C,dynamic nameserver in `/etc/resolv.conf`,
214,node_dns_options,['options single-request-reopen timeout:1'],NODE,NODE_DNS,string[],C,dns resolv options in `/etc/resolv.conf`,
220,node_repo_method,local,NODE,NODE_PACKAGE,enum,C/A,"how to setup node repo: none,local,public,both",
221,node_repo_remove,False,NODE,NODE_PACKAGE,bool,C/A,remove existing repo on node?,
222,node_repo_local_urls,['http://${admin_ip}/crystaldb.repo'],NODE,NODE_PACKAGE,string[],C,"local repo url, if node_repo_method = local,both",
223,node_packages,[],NODE,NODE_PACKAGE,string[],C,packages to be installed current nodes,
224,node_default_packages,"['lz4,unzip,bzip2,zlib,yum,pv,jq,git,ncdu,make,patch,bash,lsof,wget,uuid,tuned,nvme-cli,numactl,grubby,sysstat,iotop,htop,rsync,tcpdump', 'netcat,socat,ftp,lrzsz,net-tools,ipvsadm,bind-utils,telnet,audit,ca-certificates,openssl,readline,vim-minimal,node_exporter,etcd,haproxy,python3,python3-pip']",NODE,NODE_PACKAGE,string[],G,default packages to be installed on all nodes,
230,node_disable_firewall,True,NODE,NODE_TUNE,bool,C,disable node firewall? true by default,
231,node_disable_selinux,True,NODE,NODE_TUNE,bool,C,disable node selinux? true by default,
232,node_disable_numa,False,NODE,NODE_TUNE,bool,C,"disable node numa, reboot required",
233,node_disable_swap,False,NODE,NODE_TUNE,bool,C,"disable node swap, use with caution",
234,node_static_network,True,NODE,NODE_TUNE,bool,C,preserve dns resolver settings after reboot,
235,node_disk_prefetch,False,NODE,NODE_TUNE,bool,C,setup disk prefetch on HDD to increase performance,
236,node_kernel_modules,"['softdog', 'br_netfilter', 'ip_vs', 'ip_vs_rr', 'ip_vs_wrr', 'ip_vs_sh']",NODE,NODE_TUNE,string[],C,kernel modules to be enabled on this node,
237,node_hugepage_count,0,NODE,NODE_TUNE,int,C,"number of 2MB hugepage, take precedence over ratio",
238,node_hugepage_ratio,0,NODE,NODE_TUNE,float,C,"node mem hugepage ratio, 0 disable it by default",
239,node_overcommit_ratio,0,NODE,NODE_TUNE,float,C,"node mem overcommit ratio, 0 disable it by default",
240,node_tune,oltp,NODE,NODE_TUNE,enum,C,"node tuned profile: none,oltp,olap,crit,tiny",
241,node_sysctl_params,{},NODE,NODE_TUNE,dict,C,sysctl parameters in k:v format in addition to tuned,
250,node_data,/data,NODE,NODE_ADMIN,path,C,"node main data directory, `/data` by default",
251,node_admin_enabled,True,NODE,NODE_ADMIN,bool,C,create a admin user on target node?,
252,node_admin_uid,88,NODE,NODE_ADMIN,int,C,uid and gid for node admin user,
253,node_admin_username,dba,NODE,NODE_ADMIN,username,C,"name of node admin user, `dba` by default",
254,node_admin_ssh_exchange,True,NODE,NODE_ADMIN,bool,C,exchange admin ssh key among node cluster,
255,node_admin_pk_current,True,NODE,NODE_ADMIN,bool,C,add current user's ssh pk to admin authorized_keys,
256,node_admin_pk_list,[],NODE,NODE_ADMIN,string[],C,ssh public keys to be added to admin user,
260,node_timezone,,NODE,NODE_TIME,string,C,"setup node timezone, empty string to skip",
261,node_ntp_enabled,True,NODE,NODE_TIME,bool,C,enable chronyd time sync service?,
262,node_ntp_servers,['pool pool.ntp.org iburst'],NODE,NODE_TIME,string[],C,ntp servers in `/etc/chrony.conf`,
263,node_crontab_overwrite,True,NODE,NODE_TIME,bool,C,overwrite or append to `/etc/crontab`?,
264,node_crontab,[],NODE,NODE_TIME,string[],C,crontab entries in `/etc/crontab`,
270,haproxy_enabled,True,NODE,HAPROXY,bool,C,enable haproxy on this node?,
271,haproxy_clean,False,NODE,HAPROXY,bool,G/C/A,cleanup all existing haproxy config?,
272,haproxy_reload,True,NODE,HAPROXY,bool,A,reload haproxy after config?,
273,haproxy_auth_enabled,True,NODE,HAPROXY,bool,G,enable authentication for haproxy admin page,
274,haproxy_admin_username,admin,NODE,HAPROXY,username,G,"haproxy admin username, `admin` by default",
275,haproxy_admin_password,crystaldb,NODE,HAPROXY,password,G,"haproxy admin password, `crystaldb` by default",
276,haproxy_exporter_port,9101,NODE,HAPROXY,port,C,"haproxy admin/exporter port, 9101 by default",
277,haproxy_client_timeout,24h,NODE,HAPROXY,interval,C,"client side connection timeout, 24h by default",
278,haproxy_server_timeout,24h,NODE,HAPROXY,interval,C,"server side connection timeout, 24h by default",
279,haproxy_services,[],NODE,HAPROXY,service[],C,list of haproxy service to be exposed on node,
280,node_exporter_enabled,True,NODE,NODE_EXPORTER,bool,C,setup node_exporter on this node?,
281,node_exporter_port,9100,NODE,NODE_EXPORTER,port,C,"node exporter listen port, 9100 by default",
282,node_exporter_options,--no-collector.softnet --no-collector.nvme --collector.ntp --collector.tcpstat --collector.processes,NODE,NODE_EXPORTER,arg,C,extra server options for node_exporter,
283,promtail_enabled,True,NODE,PROMTAIL,bool,C,enable promtail logging collector?,
284,promtail_clean,False,NODE,PROMTAIL,bool,G/A,purge existing promtail status file during init?,
285,promtail_port,9080,NODE,PROMTAIL,port,C,"promtail listen port, 9080 by default",
286,promtail_positions,/var/log/positions.yaml,NODE,PROMTAIL,path,C,promtail position status file path,
401,docker_enabled,False,NODE,DOCKER,bool,C,enable docker on this node?,
402,docker_cgroups_driver,systemd,NODE,DOCKER,enum,C,"docker cgroup fs driver: cgroupfs,systemd",
403,docker_registry_mirrors,[],NODE,DOCKER,string[],C,docker registry mirror list,
404,docker_image_cache,/tmp/docker,NODE,DOCKER,path,C,"docker image cache dir, `/tmp/docker` by default",
501,etcd_seq,,ETCD,ETCD,int,I,"etcd instance identifier, REQUIRED",
502,etcd_cluster,etcd,ETCD,ETCD,string,C,"etcd cluster & group name, etcd by default",
503,etcd_safeguard,False,ETCD,ETCD,bool,G/C/A,prevent purging running etcd instance?,
504,etcd_clean,True,ETCD,ETCD,bool,G/C/A,purging existing etcd during initialization?,
505,etcd_data,/data/etcd,ETCD,ETCD,path,C,"etcd data directory, /data/etcd by default",
506,etcd_port,2379,ETCD,ETCD,port,C,"etcd client port, 2379 by default",
507,etcd_peer_port,2380,ETCD,ETCD,port,C,"etcd peer port, 2380 by default",
508,etcd_init,new,ETCD,ETCD,enum,C,"etcd initial cluster state, new or existing",
509,etcd_election_timeout,1000,ETCD,ETCD,int,C,"etcd election timeout, 1000ms by default",
510,etcd_heartbeat_interval,100,ETCD,ETCD,int,C,"etcd heartbeat interval, 100ms by default",
601,minio_seq,,MINIO,MINIO,int,I,"minio instance identifier, REQUIRED",
602,minio_cluster,minio,MINIO,MINIO,string,C,"minio cluster name, minio by default",
603,minio_clean,False,MINIO,MINIO,bool,G/C/A,"cleanup minio during init?, false by default",
604,minio_user,minio,MINIO,MINIO,username,C,"minio os user, `minio` by default",
605,minio_node,${minio_cluster}-${minio_seq}.crystaldb,MINIO,MINIO,string,C,minio node name pattern,
606,minio_data,/data/minio,MINIO,MINIO,path,C,"minio data dir(s), use {x...y} to specify multi drivers",
607,minio_domain,sss.crystaldb,MINIO,MINIO,string,G,"minio service domain name, `sss.crystaldb` by default",
608,minio_port,9000,MINIO,MINIO,port,C,"minio service port, 9000 by default",
609,minio_admin_port,9001,MINIO,MINIO,port,C,"minio console port, 9001 by default",
610,minio_access_key,minioadmin,MINIO,MINIO,username,C,"root access key, `minioadmin` by default",
611,minio_secret_key,minioadmin,MINIO,MINIO,password,C,"root secret key, `minioadmin` by default",
612,minio_extra_vars,,MINIO,MINIO,string,C,extra environment variables for minio server,
613,minio_alias,sss,MINIO,MINIO,string,G,alias name for local minio deployment,
614,minio_buckets,"[{'name': 'pgsql'}, {'name': 'csi'}, {'name': 'redis'}]",MINIO,MINIO,bucket[],C,list of minio bucket to be created,
615,minio_users,"[{'policy': 'consoleAdmin', 'access_key': 'dba', 'secret_key': 'S3User.DBA'}, {'policy': 'readwrite', 'access_key': 'pgbackrest', 'secret_key': 'S3User.Backup'}]",MINIO,MINIO,user[],C,list of minio user to be created,
701,redis_cluster,,REDIS,REDIS,string,C,"redis cluster name, required identity parameter",
702,redis_instances,,REDIS,REDIS,dict,I,redis instances definition on this redis node,
703,redis_node,,REDIS,REDIS,int,I,"redis node sequence number, node int id required",
710,redis_fs_main,/data,REDIS,REDIS,path,C,"redis main data mountpoint, `/data` by default",
711,redis_exporter_enabled,True,REDIS,REDIS,bool,C,install redis exporter on redis nodes?,
712,redis_exporter_port,9121,REDIS,REDIS,port,C,"redis exporter listen port, 9121 by default",
713,redis_exporter_options,,REDIS,REDIS,string,C/I,cli args and extra options for redis exporter,
720,redis_safeguard,False,REDIS,REDIS,bool,C,prevent purging running redis instance?,
721,redis_clean,True,REDIS,REDIS,bool,C,purging existing redis during init?,
722,redis_rmdata,True,REDIS,REDIS,bool,A,remove redis data when purging redis server?,
723,redis_mode,standalone,REDIS,REDIS,enum,C,"redis mode: standalone,cluster,sentinel",
724,redis_conf,redis.conf,REDIS,REDIS,string,C,"redis config template path, except sentinel",
725,redis_bind_address,0.0.0.0,REDIS,REDIS,ip,C,"redis bind address, empty string will use host ip",
726,redis_max_memory,1GB,REDIS,REDIS,size,C/I,max memory used by each redis instance,
727,redis_mem_policy,allkeys-lru,REDIS,REDIS,enum,C,redis memory eviction policy,
728,redis_password,,REDIS,REDIS,password,C,"redis password, empty string will disable password",
729,redis_rdb_save,['1200 1'],REDIS,REDIS,string[],C,"redis rdb save directives, disable with empty list",
730,redis_aof_enabled,False,REDIS,REDIS,bool,C,enable redis append only file?,
731,redis_rename_commands,{},REDIS,REDIS,dict,C,rename redis dangerous commands,
732,redis_cluster_replicas,1,REDIS,REDIS,int,C,replica number for one master in redis cluster,
801,pg_mode,pgsql,PGSQL,PG_ID,enum,C,"pgsql cluster mode: pgsql,citus,gpsql",
802,pg_cluster,,PGSQL,PG_ID,string,C,"pgsql cluster name, REQUIRED identity parameter",
803,pg_seq,,PGSQL,PG_ID,int,I,"pgsql instance seq number, REQUIRED identity parameter",
804,pg_role,replica,PGSQL,PG_ID,enum,I,"pgsql role, REQUIRED, could be primary,replica,offline",
805,pg_instances,,PGSQL,PG_ID,dict,I,define multiple pg instances on node in `{port:ins_vars}` format,
806,pg_upstream,,PGSQL,PG_ID,ip,I,repl upstream ip addr for standby cluster or cascade replica,
807,pg_shard,,PGSQL,PG_ID,string,C,"pgsql shard name, optional identity for sharding clusters",
808,pg_group,,PGSQL,PG_ID,int,C,"pgsql shard index number, optional identity for sharding clusters",
809,gp_role,master,PGSQL,PG_ID,enum,C,"greenplum role of this cluster, could be master or segment",
810,pg_exporters,{},PGSQL,PG_ID,dict,C,additional pg_exporters to monitor remote postgres instances,
811,pg_offline_query,False,PGSQL,PG_ID,bool,I,set to true to enable offline query on this instance,
820,pg_users,[],PGSQL,PG_BUSINESS,user[],C,postgres business users,
821,pg_databases,[],PGSQL,PG_BUSINESS,database[],C,postgres business databases,
822,pg_services,[],PGSQL,PG_BUSINESS,service[],C,postgres business services,
823,pg_hba_rules,[],PGSQL,PG_BUSINESS,hba[],C,business hba rules for postgres,
824,pgb_hba_rules,[],PGSQL,PG_BUSINESS,hba[],C,business hba rules for pgbouncer,
831,pg_replication_username,replicator,PGSQL,PG_BUSINESS,username,G,"postgres replication username, `replicator` by default",
832,pg_replication_password,DBUser.Replicator,PGSQL,PG_BUSINESS,password,G,"postgres replication password, `DBUser.Replicator` by default",
833,pg_admin_username,dbuser_dba,PGSQL,PG_BUSINESS,username,G,"postgres admin username, `dbuser_dba` by default",
834,pg_admin_password,DBUser.DBA,PGSQL,PG_BUSINESS,password,G,"postgres admin password in plain text, `DBUser.DBA` by default",
835,pg_monitor_username,dbuser_monitor,PGSQL,PG_BUSINESS,username,G,"postgres monitor username, `dbuser_monitor` by default",
836,pg_monitor_password,DBUser.Monitor,PGSQL,PG_BUSINESS,password,G,"postgres monitor password, `DBUser.Monitor` by default",
837,pg_dbsu_password,,PGSQL,PG_BUSINESS,password,G/C,"postgres dbsu password, empty string disable it by default",
840,pg_dbsu,postgres,PGSQL,PG_INSTALL,username,C,"os dbsu name, postgres by default, better not change it",
841,pg_dbsu_uid,26,PGSQL,PG_INSTALL,int,C,"os dbsu uid and gid, 26 for default postgres users and groups",
842,pg_dbsu_sudo,limit,PGSQL,PG_INSTALL,enum,C,"dbsu sudo privilege, none,limit,all,nopass. limit by default",
843,pg_dbsu_home,/var/lib/pgsql,PGSQL,PG_INSTALL,path,C,"postgresql home directory, `/var/lib/pgsql` by default",
844,pg_dbsu_ssh_exchange,True,PGSQL,PG_INSTALL,bool,C,exchange postgres dbsu ssh key among same pgsql cluster,
845,pg_version,15,PGSQL,PG_INSTALL,enum,C,"postgres major version to be installed, 15 by default",
846,pg_bin_dir,/opt/CrystalDB/pgsql/bin,PGSQL,PG_INSTALL,path,C,"postgres binary dir, `/opt/CrystalDB/pgsql/bin` by default",
847,pg_log_dir,/crystaldb/log/postgres,PGSQL,PG_INSTALL,path,C,"postgres log dir, `/crystaldb/log/postgres` by default",
848,pg_packages,"['postgresql${pg_version}*', 'pgbouncer pg_exporter pgbadger vip-manager patroni patroni-etcd pgbackrest']",PGSQL,PG_INSTALL,string[],C,"pg packages to be installed, `${pg_version}` will be replaced",
849,pg_extensions,"['pg_repack_${pg_version} wal2json_${pg_version}', 'postgis33_${pg_version} postgis33_${pg_version}-devel postgis33_${pg_version}-utils', 'timescaledb-2-postgresql-${pg_version}', 'citus*${pg_version}*', 'pgvector_${pg_version}*']",PGSQL,PG_INSTALL,string[],C,"pg extensions to be installed, `${pg_version}` will be replaced",
850,pg_safeguard,False,PGSQL,PG_BOOTSTRAP,bool,G/C/A,prevent purging running postgres instance? false by default,
851,pg_clean,True,PGSQL,PG_BOOTSTRAP,bool,G/C/A,purging existing postgres during pgsql init? true by default,
852,pg_data,/var/lib/crys/15/data,PGSQL,PG_BOOTSTRAP,path,C,"postgres data directory, `/var/lib/crys/15/data` by default",
853,pg_fs_main,/data,PGSQL,PG_BOOTSTRAP,path,C,"mountpoint/path for postgres main data, `/data` by default",
854,pg_fs_bkup,/data/backups,PGSQL,PG_BOOTSTRAP,path,C,"mountpoint/path for pg backup data, `/data/backup` by default",
855,pg_storage_type,SSD,PGSQL,PG_BOOTSTRAP,enum,C,"storage type for pg main data, SSD,HDD, SSD by default",
856,pg_dummy_filesize,64MiB,PGSQL,PG_BOOTSTRAP,size,C,"size of `/crystaldb/dummy`, hold 64MB disk space for emergency use",
857,pg_listen,0.0.0.0,PGSQL,PG_BOOTSTRAP,ip(s),C/I,"postgres/pgbouncer listen addresses, comma separated list",
858,pg_port,5432,PGSQL,PG_BOOTSTRAP,port,C,"postgres listen port, 5432 by default",
859,pg_localhost,/var/run/postgresql,PGSQL,PG_BOOTSTRAP,path,C,postgres unix socket dir for localhost connection,
860,pg_namespace,/pg,PGSQL,PG_BOOTSTRAP,path,C,"top level key namespace in etcd, used by patroni & vip",
861,patroni_enabled,True,PGSQL,PG_BOOTSTRAP,bool,C,"if disabled, no postgres cluster will be created during init",
862,patroni_mode,default,PGSQL,PG_BOOTSTRAP,enum,C,"patroni working mode: default,pause,remove",
863,patroni_port,8008,PGSQL,PG_BOOTSTRAP,port,C,"patroni listen port, 8008 by default",
864,patroni_log_dir,/crystaldb/log/patroni,PGSQL,PG_BOOTSTRAP,path,C,"patroni log dir, `/crystaldb/log/patroni` by default",
865,patroni_ssl_enabled,False,PGSQL,PG_BOOTSTRAP,bool,G,secure patroni RestAPI communications with SSL?,
866,patroni_watchdog_mode,off,PGSQL,PG_BOOTSTRAP,enum,C,"patroni watchdog mode: automatic,required,off. off by default",
867,patroni_username,postgres,PGSQL,PG_BOOTSTRAP,username,C,"patroni restapi username, `postgres` by default",
868,patroni_password,Patroni.API,PGSQL,PG_BOOTSTRAP,password,C,"patroni restapi password, `Patroni.API` by default",
869,patroni_citus_db,postgres,PGSQL,PG_BOOTSTRAP,string,C,"citus database managed by patroni, postgres by default",
870,pg_conf,oltp.yml,PGSQL,PG_BOOTSTRAP,enum,C,"config template: oltp,olap,crit,tiny. `oltp.yml` by default",
871,pg_max_conn,auto,PGSQL,PG_BOOTSTRAP,int,C,"postgres max connections, `auto` will use recommended value",
872,pg_shared_buffer_ratio,0.25,PGSQL,PG_BOOTSTRAP,float,C,"postgres shared buffer memory ratio, 0.25 by default, 0.1~0.4",
873,pg_rto,30,PGSQL,PG_BOOTSTRAP,int,C,"recovery time objective in seconds,  `30s` by default",
874,pg_rpo,1048576,PGSQL,PG_BOOTSTRAP,int,C,"recovery point objective in bytes, `1MiB` at most by default",
875,pg_libs,"timescaledb, pg_stat_statements, auto_explain",PGSQL,PG_BOOTSTRAP,string,C,"preloaded libraries, `pg_stat_statements,auto_explain` by default",
876,pg_delay,0,PGSQL,PG_BOOTSTRAP,interval,I,replication apply delay for standby cluster leader,
877,pg_checksum,False,PGSQL,PG_BOOTSTRAP,bool,C,enable data checksum for postgres cluster?,
878,pg_pwd_enc,scram-sha-256,PGSQL,PG_BOOTSTRAP,enum,C,"passwords encryption algorithm: md5,scram-sha-256",
879,pg_encoding,UTF8,PGSQL,PG_BOOTSTRAP,enum,C,"database cluster encoding, `UTF8` by default",
880,pg_locale,C,PGSQL,PG_BOOTSTRAP,enum,C,"database cluster local, `C` by default",
881,pg_lc_collate,C,PGSQL,PG_BOOTSTRAP,enum,C,"database cluster collate, `C` by default",
882,pg_lc_ctype,en_US.UTF8,PGSQL,PG_BOOTSTRAP,enum,C,"database character type, `en_US.UTF8` by default",
890,pgbouncer_enabled,True,PGSQL,PG_BOOTSTRAP,bool,C,"if disabled, pgbouncer will not be launched on pgsql host",
891,pgbouncer_port,6432,PGSQL,PG_BOOTSTRAP,port,C,"pgbouncer listen port, 6432 by default",
892,pgbouncer_log_dir,/crystaldb/log/pgbouncer,PGSQL,PG_BOOTSTRAP,path,C,"pgbouncer log dir, `/crystaldb/log/pgbouncer` by default",
893,pgbouncer_auth_query,False,PGSQL,PG_BOOTSTRAP,bool,C,query postgres to retrieve unlisted business users?,
894,pgbouncer_poolmode,transaction,PGSQL,PG_BOOTSTRAP,enum,C,"pooling mode: transaction,session,statement, transaction by default",
895,pgbouncer_sslmode,disable,PGSQL,PG_BOOTSTRAP,enum,C,"pgbouncer client ssl mode, disable by default",
900,pg_provision,True,PGSQL,PG_PROVISION,bool,C,provision postgres cluster after bootstrap,
901,pg_init,pg-init,PGSQL,PG_PROVISION,string,G/C,"provision init script for cluster template, `pg-init` by default",
902,pg_default_roles,"[{'name': 'dbrole_readonly', 'login': False, 'comment': 'role for global read-only access'}, {'name': 'dbrole_offline', 'login': False, 'comment': 'role for restricted read-only access'}, {'name': 'dbrole_readwrite', 'login': False, 'roles': ['dbrole_readonly'], 'comment': 'role for global read-write access'}, {'name': 'dbrole_admin', 'login': False, 'roles': ['pg_monitor', 'dbrole_readwrite'], 'comment': 'role for object creation'}, {'name': 'postgres', 'comment': 'system superuser', 'superuser': True}, {'name': 'replicator', 'roles': ['pg_monitor', 'dbrole_readonly'], 'comment': 'system replicator', 'replication': True}, {'name': 'dbuser_dba', 'roles': ['dbrole_admin'], 'comment': 'pgsql admin user', 'pgbouncer': True, 'pool_mode': 'session', 'superuser': True, 'pool_connlimit': 16}, {'name': 'dbuser_monitor', 'roles': ['pg_monitor'], 'comment': 'pgsql monitor user', 'pgbouncer': True, 'pool_mode': 'session', 'parameters': {'log_min_duration_statement': 1000}, 'pool_connlimit': 8}]",PGSQL,PG_PROVISION,role[],G/C,default roles and users in postgres cluster,
903,pg_default_privileges,"['GRANT USAGE      ON SCHEMAS   TO dbrole_readonly', 'GRANT SELECT     ON TABLES    TO dbrole_readonly', 'GRANT SELECT     ON SEQUENCES TO dbrole_readonly', 'GRANT EXECUTE    ON FUNCTIONS TO dbrole_readonly', 'GRANT USAGE      ON SCHEMAS   TO dbrole_offline', 'GRANT SELECT     ON TABLES    TO dbrole_offline', 'GRANT SELECT     ON SEQUENCES TO dbrole_offline', 'GRANT EXECUTE    ON FUNCTIONS TO dbrole_offline', 'GRANT INSERT     ON TABLES    TO dbrole_readwrite', 'GRANT UPDATE     ON TABLES    TO dbrole_readwrite', 'GRANT DELETE     ON TABLES    TO dbrole_readwrite', 'GRANT USAGE      ON SEQUENCES TO dbrole_readwrite', 'GRANT UPDATE     ON SEQUENCES TO dbrole_readwrite', 'GRANT TRUNCATE   ON TABLES    TO dbrole_admin', 'GRANT REFERENCES ON TABLES    TO dbrole_admin', 'GRANT TRIGGER    ON TABLES    TO dbrole_admin', 'GRANT CREATE     ON SCHEMAS   TO dbrole_admin']",PGSQL,PG_PROVISION,string[],G/C,default privileges when created by admin user,
904,pg_default_schemas,['monitor'],PGSQL,PG_PROVISION,string[],G/C,default schemas to be created,
905,pg_default_extensions,"[{'name': 'adminpack', 'schema': 'pg_catalog'}, {'name': 'pg_stat_statements', 'schema': 'monitor'}, {'name': 'pgstattuple', 'schema': 'monitor'}, {'name': 'pg_buffercache', 'schema': 'monitor'}, {'name': 'pageinspect', 'schema': 'monitor'}, {'name': 'pg_prewarm', 'schema': 'monitor'}, {'name': 'pg_visibility', 'schema': 'monitor'}, {'name': 'pg_freespacemap', 'schema': 'monitor'}, {'name': 'postgres_fdw', 'schema': 'public'}, {'name': 'file_fdw', 'schema': 'public'}, {'name': 'btree_gist', 'schema': 'public'}, {'name': 'btree_gin', 'schema': 'public'}, {'name': 'pg_trgm', 'schema': 'public'}, {'name': 'intagg', 'schema': 'public'}, {'name': 'intarray', 'schema': 'public'}, {'name': 'pg_repack'}]",PGSQL,PG_PROVISION,extension[],G/C,default extensions to be created,
906,pg_reload,True,PGSQL,PG_PROVISION,bool,A,reload postgres after hba changes,
907,pg_default_hba_rules,"[{'db': 'all', 'addr': 'local', 'auth': 'ident', 'user': '${dbsu}', 'title': 'dbsu access via local os user ident'}, {'db': 'replication', 'addr': 'local', 'auth': 'ident', 'user': '${dbsu}', 'title': 'dbsu replication from local os ident'}, {'db': 'replication', 'addr': 'localhost', 'auth': 'pwd', 'user': '${repl}', 'title': 'replicator replication from localhost'}, {'db': 'replication', 'addr': 'intra', 'auth': 'pwd', 'user': '${repl}', 'title': 'replicator replication from intranet'}, {'db': 'postgres', 'addr': 'intra', 'auth': 'pwd', 'user': '${repl}', 'title': 'replicator postgres db from intranet'}, {'db': 'all', 'addr': 'localhost', 'auth': 'pwd', 'user': '${monitor}', 'title': 'monitor from localhost with password'}, {'db': 'all', 'addr': 'csi', 'auth': 'pwd', 'user': '${monitor}', 'title': 'monitor from csi host with password'}, {'db': 'all', 'addr': 'csi', 'auth': 'ssl', 'user': '${admin}', 'title': 'admin @ csi nodes with pwd & ssl'}, {'db': 'all', 'addr': 'world', 'auth': 'ssl', 'user': '${admin}', 'title': 'admin @ everywhere with ssl & pwd'}, {'db': 'all', 'addr': 'localhost', 'auth': 'pwd', 'user': '+dbrole_readonly', 'title': 'pgbouncer read/write via local socket'}, {'db': 'all', 'addr': 'intra', 'auth': 'pwd', 'user': '+dbrole_readonly', 'title': 'read/write biz user via password'}, {'db': 'all', 'addr': 'intra', 'auth': 'pwd', 'user': '+dbrole_offline', 'title': 'allow etl offline tasks from intranet'}]",PGSQL,PG_PROVISION,hba[],G/C,postgres default host-based authentication rules,
908,pgb_default_hba_rules,"[{'db': 'pgbouncer', 'addr': 'local', 'auth': 'peer', 'user': '${dbsu}', 'title': 'dbsu local admin access with os ident'}, {'db': 'all', 'addr': 'localhost', 'auth': 'pwd', 'user': 'all', 'title': 'allow all user local access with pwd'}, {'db': 'pgbouncer', 'addr': 'intra', 'auth': 'pwd', 'user': '${monitor}', 'title': 'monitor access via intranet with pwd'}, {'db': 'all', 'addr': 'world', 'auth': 'deny', 'user': '${monitor}', 'title': 'reject all other monitor access addr'}, {'db': 'all', 'addr': 'intra', 'auth': 'pwd', 'user': '${admin}', 'title': 'admin access via intranet with pwd'}, {'db': 'all', 'addr': 'world', 'auth': 'deny', 'user': '${admin}', 'title': 'reject all other admin access addr'}, {'db': 'all', 'addr': 'intra', 'auth': 'pwd', 'user': 'all', 'title': 'allow all user intra access with pwd'}]",PGSQL,PG_PROVISION,hba[],G/C,pgbouncer default host-based authentication rules,
910,pgbackrest_enabled,True,PGSQL,PG_BACKUP,bool,C,enable pgbackrest on pgsql host?,
911,pgbackrest_clean,True,PGSQL,PG_BACKUP,bool,C,remove pg backup data during init?,
912,pgbackrest_log_dir,/crystaldb/log/pgbackrest,PGSQL,PG_BACKUP,path,C,"pgbackrest log dir, `/crystaldb/log/pgbackrest` by default",
913,pgbackrest_method,local,PGSQL,PG_BACKUP,enum,C,"pgbackrest repo method: local,minio,etc...",
914,pgbackrest_repo,"{'local': {'path': '/crystaldb/backup', 'retention_full': 2, 'retention_full_type': 'count'}, 'minio': {'path': '/pgbackrest', 'type': 's3', 'bundle': 'y', 's3_key': 'pgbackrest', 's3_bucket': 'pgsql', 's3_region': 'us-east-1', 'cipher_pass': 'pgBackRest', 'cipher_type': 'aes-256-cbc', 's3_endpoint': 'sss.crystaldb', 's3_uri_style': 'path', 'storage_port': 9000, 's3_key_secret': 'S3User.Backup', 'retention_full': 14, 'storage_ca_file': '/etc/pki/ca.crt', 'retention_full_type': 'time'}}",PGSQL,PG_BACKUP,dict,G/C,pgbackrest repo: https://pgbackrest.org/configuration.html#section-repository,
921,pg_weight,100,PGSQL,PG_SERVICE,int,I,"relative load balance weight in service, 100 by default, 0-255",
922,pg_service_provider,,PGSQL,PG_SERVICE,string,G/C,"dedicate haproxy node group name, or empty string for local nodes by default",
923,pg_default_service_dest,pgbouncer,PGSQL,PG_SERVICE,enum,G/C,default service destination if svc.dest='default',
924,pg_default_services,"[{'dest': 'default', 'name': 'primary', 'port': 5433, 'check': '/primary', 'selector': '[]'}, {'dest': 'default', 'name': 'replica', 'port': 5434, 'check': '/read-only', 'backup': '[? pg_role == `primary` || pg_role == `offline` ]', 'selector': '[]'}, {'dest': 'postgres', 'name': 'default', 'port': 5436, 'check': '/primary', 'selector': '[]'}, {'dest': 'postgres', 'name': 'offline', 'port': 5438, 'check': '/replica', 'backup': '[? pg_role == `replica` && !pg_offline_query]', 'selector': '[? pg_role == `offline` || pg_offline_query ]'}]",PGSQL,PG_SERVICE,service[],G/C,postgres default service definitions,
931,pg_vip_enabled,False,PGSQL,PG_SERVICE,bool,C,enable a l2 vip for pgsql primary? false by default,
932,pg_vip_address,127.0.0.1/24,PGSQL,PG_SERVICE,cidr4,C,"vip address in `<ipv4>/<mask>` format, require if vip is enabled",
933,pg_vip_interface,eth0,PGSQL,PG_SERVICE,string,C/I,"vip network interface to listen, eth0 by default",
934,pg_dns_suffix,,PGSQL,PG_SERVICE,string,C,"pgsql dns suffix, '' by default",
935,pg_dns_target,auto,PGSQL,PG_SERVICE,enum,C,"auto, primary, vip, none, or ad hoc ip",
940,pg_exporter_enabled,True,PGSQL,PG_EXPORTER,bool,C,enable pg_exporter on pgsql hosts?,
941,pg_exporter_config,pg_exporter.yml,PGSQL,PG_EXPORTER,string,C,pg_exporter configuration file name,
942,pg_exporter_cache_ttls,"1,10,60,300",PGSQL,PG_EXPORTER,string,C,"pg_exporter collector ttl stage in seconds, '1,10,60,300' by default",
943,pg_exporter_port,9630,PGSQL,PG_EXPORTER,port,C,"pg_exporter listen port, 9630 by default",
944,pg_exporter_params,sslmode=disable,PGSQL,PG_EXPORTER,string,C,extra url parameters for pg_exporter dsn,
945,pg_exporter_url,,PGSQL,PG_EXPORTER,pgurl,C,overwrite auto-generate pg dsn if specified,
946,pg_exporter_auto_discovery,True,PGSQL,PG_EXPORTER,bool,C,enable auto database discovery? enabled by default,
947,pg_exporter_exclude_database,"template0,template1,postgres",PGSQL,PG_EXPORTER,string,C,csv of database that WILL NOT be monitored during auto-discovery,
948,pg_exporter_include_database,,PGSQL,PG_EXPORTER,string,C,csv of database that WILL BE monitored during auto-discovery,
949,pg_exporter_connect_timeout,200,PGSQL,PG_EXPORTER,int,C,"pg_exporter connect timeout in ms, 200 by default",
950,pg_exporter_options,,PGSQL,PG_EXPORTER,arg,C,overwrite extra options for pg_exporter,
951,pgbouncer_exporter_enabled,True,PGSQL,PG_EXPORTER,bool,C,enable pgbouncer_exporter on pgsql hosts?,
952,pgbouncer_exporter_port,9631,PGSQL,PG_EXPORTER,port,C,"pgbouncer_exporter listen port, 9631 by default",
953,pgbouncer_exporter_url,,PGSQL,PG_EXPORTER,pgurl,C,overwrite auto-generate pgbouncer dsn if specified,
954,pgbouncer_exporter_options,,PGSQL,PG_EXPORTER,arg,C,overwrite extra options for pgbouncer_exporter,
